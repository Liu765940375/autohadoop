#!/usr/bin/env bash
#source ./conf/env.sh

SCRIPT_PATH="`dirname $0`/../scripts"
SCRIPT_NAME="cluster.sh"

CONF_PATH="`dirname $0`/../conf"
ENV_NAME="env.sh"

PACKAGE_PATH="`dirname $0`/../packages"

source $SCRIPT_PATH/$SCRIPT_NAME
source $CONF_PATH/$ENV_NAME

case "$1" in
    create)
        echo "deploy_nodes"
        python $SCRIPT_PATH/py/deploy_slave.py --version=${HADOOP_VERSION} --component=hadoop
        source ~/.bashrc
        $HADOOP_HOME/bin/hdfs namenode -format
        ;;
    *)
        echo "Usage [create]" >&2
        exit 3
        ;;
esac

exit 0
